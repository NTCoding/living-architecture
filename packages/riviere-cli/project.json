{
  "name": "riviere-cli",
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "node esbuild.config.mjs",
          "tsc --emitDeclarationOnly --declaration --declarationDir dist"
        ],
        "cwd": "{projectRoot}",
        "parallel": false
      },
      "outputs": ["{projectRoot}/dist"]
    },
    "generate-docs": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm exec npx tsx packages/riviere-cli/scripts/generate-docs.ts",
        "cwd": "{workspaceRoot}"
      },
      "dependsOn": ["build"],
      "outputs": ["{projectRoot}/docs/generated"]
    },
    "check-generated-docs": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "pnpm exec npx tsx packages/riviere-cli/scripts/generate-docs.ts",
          "git diff --exit-code packages/riviere-cli/docs/generated/ || (echo 'Generated docs are stale. Run: pnpm nx generate-docs riviere-cli' && exit 1)"
        ],
        "cwd": "{workspaceRoot}",
        "parallel": false
      },
      "dependsOn": ["build"]
    }
  }
}
